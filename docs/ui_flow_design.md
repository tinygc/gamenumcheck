# 📱 株式投資シミュレーター UI・画面遷移設計書

## 🗺️ アプリ全体の画面構成

```
スプラッシュ画面
    ↓
タイトル画面 (新規/継続選択)
    ↓
[新規ゲーム] → 難易度選択画面 → チュートリアル画面
    ↓                                    ↓
[継続]      →    メイン画面 (タブナビゲーション)
                      ↓
    ┌─────────┬─────────┬─────────┬─────────┐
    │ ホーム    │ 取引     │ニュース  │ 履歴     │
    │ (概要)    │ (売買)   │ (情報)   │ (記録)   │
    └─────────┴─────────┴─────────┴─────────┘
         ↓         ↓         ↓         ↓
    ポートフォリオ  株式詳細   ニュース   取引履歴
    詳細画面      画面      詳細       詳細
                           ↓         ↓
                      設定画面    統計画面
```

## 🎬 詳細画面フロー設計

### 1. **アプリ起動フロー**

#### **スプラッシュ画面** (2秒表示)
```
┌─────────────────────┐
│                     │
│    📈 STOCK SIM     │
│                     │
│   ローディング...     │
│                     │
└─────────────────────┘
```
- アプリロゴ表示
- 初期データ読み込み (企業情報、前回セーブデータ確認)
- 自動でタイトル画面へ遷移

#### **タイトル画面**
```
┌─────────────────────┐
│   📈 株式投資SIM     │
│                     │
│  ┌───────────────┐   │
│  │ 新しくはじめる  │   │
│  └───────────────┘   │
│  ┌───────────────┐   │
│  │ つづきから     │   │ ← セーブデータがある場合のみ
│  └───────────────┘   │
│  ┌───────────────┐   │
│  │ 設定          │   │
│  └───────────────┘   │
└─────────────────────┘
```

### 2. **ゲーム開始フロー**

#### **難易度選択画面**
```
┌─────────────────────┐
│   難易度を選択      │
│                     │
│ ┌─────────────────┐ │
│ │ 🟢 イージー      │ │
│ │ 変動小・良ニュース多│ │
│ └─────────────────┘ │
│ ┌─────────────────┐ │
│ │ 🟡 ノーマル      │ │
│ │ バランス型       │ │
│ └─────────────────┘ │
│ ┌─────────────────┐ │
│ │ 🔴 ハード        │ │
│ │ 変動大・悪材料多  │ │
│ └─────────────────┘ │
└─────────────────────┘
```

#### **チュートリアル画面** (3-4画面のスワイプ)
```
画面1: 基本説明
┌─────────────────────┐
│ 📊 投資の基本        │
│                     │
│ 100万円の資金で      │
│ 30日間投資に挑戦！   │
│                     │
│      [次へ] →       │
└─────────────────────┘

画面2: 操作説明  
┌─────────────────────┐
│ 💰 売買の方法        │
│                     │
│ ・株価をチェック     │
│ ・買い/売りボタン    │
│ ・取引量を決定       │
│                     │
│    ← [戻る] [次へ] → │
└─────────────────────┘

画面3: ニュース説明
┌─────────────────────┐
│ 📰 情報を活用        │
│                     │
│ ニュースで株価が変動  │
│ 毎日チェックしよう！  │
│                     │
│    ← [戻る] [開始] → │
└─────────────────────┘
```

### 3. **メインゲーム画面フロー**

#### **ホーム画面 (メインダッシュボード)**
```
┌─────────────────────┐
│ Day 15/30  💰1,250K │ ← ヘッダー: 日数・総資産
├─────────────────────┤
│ 📊 資産サマリー      │
│ 現金: ¥450,000      │
│ 株式: ¥800,000      │
│ 利益: +25.0% ⬆️     │
├─────────────────────┤
│ 🔥 注目銘柄 (3社)    │
│ CYBT +12.5% 🔥      │
│ FOOD -3.2% 📉       │
│ ENGY +0.8% →        │
├─────────────────────┤
│ 📰 今日のニュース    │
│ サイバーテック、新... │
│           [もっと見る]│
├─────────────────────┤
│ ┌─────────────────┐ │
│ │   次の日へ進む    │ │ ← メインアクション
│ └─────────────────┘ │
└─────────────────────┘
│ホーム│取引│ニュース│履歴│ ← ボトムナビ
```

#### **取引画面 (株式一覧)**
```
┌─────────────────────┐
│ 💰 現金: ¥450,000   │ ← ヘッダー
├─────────────────────┤
│ [全部][🏭][🏪][🏥][🎮] │ ← カテゴリフィルター
├─────────────────────┤
│ CYBT サイバーテック  │
│ ¥1,200 +2.5% 🔥    │
│ 保有: 100株         │
│      [詳細][売買]    │
├─────────────────────┤
│ FOOD フードチェーン  │
│ ¥800 -1.2% 📉      │
│ 保有: 50株          │
│      [詳細][売買]    │
├─────────────────────┤
│ ENGY エナジー電力   │
│ ¥1,500 +0.8% →    │
│ 保有: 0株           │
│      [詳細][売買]    │
└─────────────────────┘
│ホーム│取引│ニュース│履歴│
```

#### **株式詳細画面**
```
┌─────────────────────┐
│ ← CYBT サイバーテック│ ← バックボタン
├─────────────────────┤
│ 現在価格: ¥1,200     │
│ 前日比: +¥30 (+2.5%)│
│ 保有株数: 100株      │
│ 評価額: ¥120,000    │
├─────────────────────┤
│ 📈 価格履歴 (7日間)  │
│ 1150→1180→1170→    │
│ 1200→1220→1180→1200│
├─────────────────────┤
│ 📊 企業情報          │
│ 業界: テクノロジー    │
│ 変動性: 高           │
│ 配当: なし           │
├─────────────────────┤
│ ┌────────┬────────┐ │
│ │   買う   │  売る   │ │
│ └────────┴────────┘ │
└─────────────────────┘
```

#### **売買画面 (モーダル)**
```
┌─────────────────────┐
│   CYBT を購入        │
├─────────────────────┤
│ 現在価格: ¥1,200     │
│ 現金: ¥450,000      │
├─────────────────────┤
│ 購入株数             │
│ ┌─┐ ┌─────┐ ┌─┐   │
│ │-│ │ 100 │ │+│   │ ← 数量調整
│ └─┘ └─────┘ └─┘   │
│                     │
│ 必要金額: ¥120,000   │
│ 手数料: ¥120        │
│ 合計: ¥120,120      │
├─────────────────────┤
│ ┌────────┬────────┐ │
│ │ キャンセル│  購入   │ │
│ └────────┴────────┘ │
└─────────────────────┘
```

### 4. **情報系画面フロー**

#### **ニュース画面**
```
┌─────────────────────┐
│ 📰 本日のニュース    │
├─────────────────────┤
│ 🔥 サイバーテック、  │
│    新AI技術を発表    │
│    → CYBT +15%予想  │
│             15:30   │
├─────────────────────┤
│ ⚡ 電力料金値上げ決定│
│    → ENGY 好影響   │
│             12:00   │
├─────────────────────┤
│ 📈 外食産業回復傾向  │
│    → FOOD +5%予想  │
│             09:00   │
├─────────────────────┤
│ 💡 市場全体的に楽観 │
│    → 全銘柄に小幅プラス│
│             08:00   │
└─────────────────────┘
│ホーム│取引│ニュース│履歴│
```

#### **取引履歴画面**
```
┌─────────────────────┐
│ 📊 取引履歴          │
├─────────────────────┤
│ Day 15  CYBT 売却   │
│ 50株 × ¥1,180      │
│ +¥9,000 💰         │
├─────────────────────┤
│ Day 14  FOOD 購入   │
│ 25株 × ¥820        │
│ -¥20,500 📤        │
├─────────────────────┤
│ Day 13  ENGY 購入   │
│ 10株 × ¥1,480      │
│ -¥14,800 📤        │
├─────────────────────┤
│ ┌─────────────────┐ │
│ │  統計を見る       │ │ ← 詳細統計画面へ
│ └─────────────────┘ │
└─────────────────────┘
│ホーム│取引│ニュース│履歴│
```

### 5. **ゲーム終了フロー**

#### **最終日の「次の日へ」タップ時**
```
┌─────────────────────┐
│ 🎉 30日間お疲れ様！  │
├─────────────────────┤
│ 最終資産: ¥1,580,000│
│ 初期資金: ¥1,000,000│
│ 利益: +¥580,000     │
│ 利益率: +58.0% 🎉   │
├─────────────────────┤
│ 📊 評価: 優秀な投資家！│
│                     │
│ 取引回数: 45回       │
│ 勝率: 67%           │
│ 最高利益: CYBT +120%│
├─────────────────────┤
│ ┌─────────────────┐ │
│ │  もう一度挑戦     │ │
│ └─────────────────┘ │
│ ┌─────────────────┐ │
│ │  タイトルに戻る   │ │
│ └─────────────────┘ │
└─────────────────────┘
```

## 🎯 画面遷移のルール

### **ナビゲーション種類**
1. **ボトムナビゲーション**: メイン4画面間の切り替え
2. **プッシュナビゲーション**: 詳細画面への遷移 (バックボタンあり)
3. **モーダル**: 売買、設定などの一時的な画面
4. **フルスクリーン遷移**: ゲーム開始、終了などの大きな状態変化

### **状態管理**
- ゲーム状態は全画面で共有 (ViewModel)
- 画面間でのデータ受け渡しはNavigationで管理
- モーダルの結果は親画面に反映

### **UX配慮ポイント**
- 🔄 重要な操作には確認ダイアログ
- 💾 自動セーブ機能 (画面遷移時)
- ⚡ ローディング表示 (データ取得時)
- 🎨 視覚的フィードバック (ボタン押下、成功/失敗)

この画面設計で直感的で使いやすいゲームになりそう〜♡ どの部分をもっと詳しく設計する〜？✨